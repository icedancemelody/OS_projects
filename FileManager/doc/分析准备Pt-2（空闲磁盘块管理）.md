> 为操作系统课设做的一些分析准备

- 存储空间管理方法
  - 空闲表法
  - 空闲链表法
    - 空闲盘块链
    - 空闲盘区链
  - 位示图法
  - 成组链接法

------

- 空闲表法

  - 定义：定义了一个表，记录第一个空闲盘块号，以及从这里开始的空闲盘块数，为文件分配连续的存储空间，适用于 "连续分配方式"
  - 分配策略：
    - 首次适应
    - 最佳适应
    - 最坏适应

- 空闲链表法

  - 空闲盘块链
    - 定义：以盘块为单位组成一条空闲链
  - 空闲盘曲链
    - 定义：以盘区为单位组成一条空闲链，一个盘区有多个盘块

- **位示图法**

  - 定义：位示图中每一个二进制位代表一个盘块，用二进制位表示盘块是否空闲，位示图一般用连续的 "字" 来表示，一般来说，1 个字就是 2 个字节，也就是说 1 个字就是 16 位，字中的每一位对应一个盘块，因此可以用（字号，位号）这样的二元组对应一个盘块号，字号就是行号，位号就是列号

  - 映射：

    - 从位示图中映射到物理块（查找可用的物理盘块号）

      首先要判断字号 i，位号 j，盘块号 b，是不是从 0 开始还是从 1 开始

      i，j 从 0 开始，b 从 0 开始，有：b = n * i + j 

      i，j 从 0 开始，b 从 1 开始，有：b = n * i + j + 1

      i，j 从 1 开始，b 从 1 开始，有：b = n * ( i - 1 ) + j

      选择以上的一种方式，按照顺序遍历位示图

      如此便完成了从 （字号，位号） --> 盘块号 的映射过程

    - 从物理块到位示图的映射（删除不可用的物理盘块号为可用）

      首先要判断字号 i，位号 j，盘块号 b，是不是从 0 开始还是从 1 开始

      i，j 从 0 开始，b 从 0 开始，有：i = b DIV n，j = b MOD n

      i，j 从 1 开始，b 从 1 开始，有：i = ( ( b -1 ) DIV n ) + 1，j = ( ( b - 1 ) MOD n ) + 1

      如此便完成了从 盘块号 --> （字号，位号）的映射过程

  - 分配

    例如，文件需要 K 个盘块，则顺序扫描位示图，找到 K 个 "0" （假设 0 表示未使用），算出对应的盘块号，把盘块赋值给文件，将相应的 K 个位设置为 "1"

  - 回收

    根据盘块号算出字号，位号，将相应的二进制位设置位 "1"

- **成组链接法**

  - 课程设计的备选题目这一，暂且不深入研究
